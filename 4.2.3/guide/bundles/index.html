
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Dropwizard guice integration">
      
      
      
        <meta name="author" content="Vyacheslav Rusakov">
      
      
        <link rel="canonical" href="https://xvik.github.io/dropwizard-guicey/4.2.3/guide/bundles/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.6">
    
    
      
        <title>Bundles (Guicey) - Dropwizard-guicey</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2c0c5eaf.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.7fa14f5b.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-93174150-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#guicey-bundles" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Dropwizard-guicey" class="md-header__button md-logo" aria-label="Dropwizard-guicey" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Dropwizard-guicey
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Bundles (Guicey)
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/xvik/dropwizard-guicey/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    dropwizard-guicey
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Dropwizard-guicey" class="md-nav__button md-logo" aria-label="Dropwizard-guicey" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Dropwizard-guicey
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/xvik/dropwizard-guicey/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    dropwizard-guicey
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/" class="md-nav__link">
        Concepts overview
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      <label class="md-nav__link" for="__nav_4">
        User guide
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="User guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          User guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../lifecycle/" class="md-nav__link">
        Integration lifecycle
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../injector/" class="md-nav__link">
        Injector
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../module-autowiring/" class="md-nav__link">
        Module autowiring
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../bindings/" class="md-nav__link">
        Bindings
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../scan/" class="md-nav__link">
        Classpath scan
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../installers/" class="md-nav__link">
        Installers
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../ordering/" class="md-nav__link">
        Ordering
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Bundles (Guicey)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Bundles (Guicey)
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#predefined-bundles" class="md-nav__link">
    Predefined bundles
  </a>
  
    <nav class="md-nav" aria-label="Predefined bundles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-installers-bundle" class="md-nav__link">
    Core installers bundle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web-installers-bundle" class="md-nav__link">
    Web installers bundle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hk2-debug-bundle" class="md-nav__link">
    HK2 debug bundle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagnostic-bundle" class="md-nav__link">
    Diagnostic bundle
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dropwizard-bundles-unification" class="md-nav__link">
    Dropwizard bundles unification
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bundle-lookup" class="md-nav__link">
    Bundle lookup
  </a>
  
    <nav class="md-nav" aria-label="Bundle lookup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#system-property-lookup" class="md-nav__link">
    System property lookup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-loader-lookup" class="md-nav__link">
    Service loader lookup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customizing-lookup-mechanism" class="md-nav__link">
    Customizing lookup mechanism
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    Options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apply-modifications" class="md-nav__link">
    Apply modifications
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-access" class="md-nav__link">
    Configuration access
  </a>
  
    <nav class="md-nav" aria-label="Configuration access">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unique-feature-config" class="md-nav__link">
    Unique feature config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-by-path" class="md-nav__link">
    Access by path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-configs" class="md-nav__link">
    Multiple configs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-configuration-analysis" class="md-nav__link">
    Custom configuration analysis
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../options/" class="md-nav__link">
        Options
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostic/" class="md-nav__link">
        Diagnostic
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../events/" class="md-nav__link">
        Lifecycle events
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../commands/" class="md-nav__link">
        Commands
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../web/" class="md-nav__link">
        Web
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../test/" class="md-nav__link">
        Test
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../dg-migration/" class="md-nav__link">
        Migration from dropwizard-guice
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Installers
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Installers" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Installers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installers/resource/" class="md-nav__link">
        Resource
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installers/task/" class="md-nav__link">
        Task
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installers/managed/" class="md-nav__link">
        Managed
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installers/lifecycle/" class="md-nav__link">
        Lifecycle
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installers/healthcheck/" class="md-nav__link">
        Health check
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installers/jersey-ext/" class="md-nav__link">
        Jersey extension
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installers/jersey-feature/" class="md-nav__link">
        Jersey feature
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installers/eager/" class="md-nav__link">
        Eager singleton
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installers/plugin/" class="md-nav__link">
        Plugin
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installers/servlet/" class="md-nav__link">
        Web servlet
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installers/filter/" class="md-nav__link">
        Web filter
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../installers/listener/" class="md-nav__link">
        Web listener
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Examples
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/authentication/" class="md-nav__link">
        Authentication
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/governator/" class="md-nav__link">
        Governator
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/hibernate/" class="md-nav__link">
        Hibernate
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/eventbus/" class="md-nav__link">
        EventBus
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/jdbi/" class="md-nav__link">
        JDBI
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/jdbi3/" class="md-nav__link">
        JDBI3
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        Extras
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Extras" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Extras
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extras/admin-rest/" class="md-nav__link">
        Admin REST
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extras/bom/" class="md-nav__link">
        BOM
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extras/lifecycle-annotations/" class="md-nav__link">
        Lifecycle annotations
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extras/eventbus/" class="md-nav__link">
        Guava EventBus
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extras/jdbi/" class="md-nav__link">
        JDBI
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extras/jdbi3/" class="md-nav__link">
        JDBI3
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extras/spa/" class="md-nav__link">
        SPA
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extras/gsp/" class="md-nav__link">
        Server Pages
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        About
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/compatibility/" class="md-nav__link">
        Compatibility
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/history/" class="md-nav__link">
        Release notes
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/support/" class="md-nav__link">
        Support
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/license/" class="md-nav__link">
        License
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#predefined-bundles" class="md-nav__link">
    Predefined bundles
  </a>
  
    <nav class="md-nav" aria-label="Predefined bundles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-installers-bundle" class="md-nav__link">
    Core installers bundle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web-installers-bundle" class="md-nav__link">
    Web installers bundle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hk2-debug-bundle" class="md-nav__link">
    HK2 debug bundle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagnostic-bundle" class="md-nav__link">
    Diagnostic bundle
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dropwizard-bundles-unification" class="md-nav__link">
    Dropwizard bundles unification
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bundle-lookup" class="md-nav__link">
    Bundle lookup
  </a>
  
    <nav class="md-nav" aria-label="Bundle lookup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#system-property-lookup" class="md-nav__link">
    System property lookup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-loader-lookup" class="md-nav__link">
    Service loader lookup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customizing-lookup-mechanism" class="md-nav__link">
    Customizing lookup mechanism
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    Options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apply-modifications" class="md-nav__link">
    Apply modifications
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-access" class="md-nav__link">
    Configuration access
  </a>
  
    <nav class="md-nav" aria-label="Configuration access">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unique-feature-config" class="md-nav__link">
    Unique feature config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-by-path" class="md-nav__link">
    Access by path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-configs" class="md-nav__link">
    Multiple configs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-configuration-analysis" class="md-nav__link">
    Custom configuration analysis
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/xvik/dropwizard-guicey/edit/master/src/doc/docs/guide/bundles.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="guicey-bundles">Guicey bundles<a class="headerlink" href="#guicey-bundles" title="Permanent link">&para;</a></h1>
<p>By analogy with dropwizard bundles, guicey has it's own <code>GuiceyBundle</code>. These bundles contains almost the same options as 
main <code>GuiceBundle</code> builder. The main purpose is to group installers, extensions and guice modules related to specific 
feature.</p>
<p>Guicey bundles are initialized during dropwizard <code>run</code> phase. All guice modules registered in bundles will also be checked 
for required <a href="../module-autowiring/">dropwizard objects autowiring</a>.</p>
<p>For example, custom integration with some scheduler framework will require installers to register tasks and guice module
to configure framework. GuiceyBundle will allow reduce integration to just one bundle installation.</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">XLibIntegrationBundle</span> <span class="kd">implements</span> <span class="n">GuiceyBundle</span> <span class="p">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="p">(</span><span class="kd">final</span> <span class="n">GuiceyBootstrap</span> <span class="n">bootstrap</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">bootstrap</span><span class="p">.</span><span class="na">installers</span><span class="p">(</span>
                <span class="n">XLibFeature1Installer</span><span class="p">.</span><span class="na">class</span><span class="p">,</span>
                <span class="n">XLibFeature2Installer</span><span class="p">.</span><span class="na">class</span><span class="p">,</span>                
        <span class="p">)</span>
        <span class="p">.</span><span class="na">modules</span><span class="p">(</span><span class="k">new</span> <span class="n">XLibGuiceModule</span><span class="p">());</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">bootstrap</span><span class="p">.</span><span class="na">addBundle</span><span class="p">(</span><span class="n">GuiceBundle</span><span class="p">.</span><span class="o">&lt;</span><span class="n">TestConfiguration</span><span class="o">&gt;</span><span class="n">builder</span><span class="p">()</span>
        <span class="p">.</span><span class="na">bundles</span><span class="p">(</span><span class="k">new</span> <span class="n">XLibIntegrationBundle</span><span class="p">())</span>
        <span class="p">.</span><span class="na">enableAutoConfig</span><span class="p">(</span><span class="s">&quot;package.to.scan&quot;</span><span class="p">)</span>
        <span class="p">.</span><span class="na">build</span><span class="p">()</span>
<span class="p">);</span>
</code></pre></div>

<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><code>GuiceyBootstrap</code> object used not only for registration, but also provides access to
<code>Bootstrap</code>, <code>Configuration</code>, <code>ConfigurationTree</code>, <code>Environment</code> and <code>Options</code> objects.</p>
</div>
<p>Bundles may be used to group application features: e.g. ResourcesBundle, TasksBundle (for example, when auto-scan not enabled to decompose configuration).</p>
<p>Bundles are transitive - bundle can install other bundles. 
Duplicate bundles are detected using bundle type, so infinite configuration loops or duplicate configurations are not possible.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Be careful if bundle is parameterizable (requires constructor arguments). If two such bundles will be registered, only
first registration will be actually used and other instance ignored. Note that application configurations (using main GuiceBundle methods) 
performed before bundles processing and so bundle instance with correct parameters could be registered there.</p>
</div>
<p>Transitive bundles (or simply a lot of bundles) may cause confusion. Use <a href="../diagnostic/">diagnostic info</a> to see how guicey was actually configured.  </p>
<h2 id="predefined-bundles">Predefined bundles<a class="headerlink" href="#predefined-bundles" title="Permanent link">&para;</a></h2>
<p>Guicey ships with few predefined bundles.</p>
<h3 id="core-installers-bundle">Core installers bundle<a class="headerlink" href="#core-installers-bundle" title="Permanent link">&para;</a></h3>
<p>Default installers are grouped into <code>CoreInstallersBundle</code>. This bundle is always installed implicitly (so you always have default installers).
It may be disabled using <a href="../configuration/#disable-default-installers"><code>.noDefaultInstallers()</code></a>.</p>
<h3 id="web-installers-bundle">Web installers bundle<a class="headerlink" href="#web-installers-bundle" title="Permanent link">&para;</a></h3>
<p><code>WebInstallersBundle</code> provides installers for servlets, filters and listeners installation <a href="../web/#web-installers">using servlet api annotations</a>
(<code>@WebServlet</code>, <code>@WebFilter</code>, <code>@WebListener</code>). </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Bundle is not installed by default to avoid confusion. May be enabled using <a href="../configuration/#web-installers"><code>.useWebInstallers()</code></a>. </p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If web installers used, then you may not need guice <code>ServletModule</code> support. To remove <code>GuiceFilter</code> registrations 
and <code>ServletModule</code> support use <a href="../web/#disable-servletmodule-support"><code>.noGuiceFilter()</code></a>.</p>
</div>
<h3 id="hk2-debug-bundle">HK2 debug bundle<a class="headerlink" href="#hk2-debug-bundle" title="Permanent link">&para;</a></h3>
<p><code>HK2DebugBundle</code> is special debug bundle to check that beans properly instantiated by guice or HK2 
(and no beans are instantiated by both).</p>
<p>Only beans installed by installers implementing <code>JerseyInstaller</code> (<code>ResourceInstaller</code>, <code>JerseyProviderInstaller</code>).
All beans must be created by guice and only beans annotated with <code>@HK2Managed</code> must be instantiated by HK2.</p>
<p>Bundle may be used in tests. For example using <code>guicey.bundles</code> property (see bundles lookup below).</p>
<p>May be enabled by <a href="../configuration/#diagnostic"><code>.strictScopeControl()</code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Works in both guice-first or <a href="../configuration/#use-hk2-for-jersey-extensions">HK2-first</a> modes.</p>
</div>
<h3 id="diagnostic-bundle">Diagnostic bundle<a class="headerlink" href="#diagnostic-bundle" title="Permanent link">&para;</a></h3>
<p>Bundle renders collected guicey <a href="../diagnostic/">diagnostic information</a>.</p>
<p>Output is highly configurable, use: <code>DiagnosticBundle.builder()</code> to configure reporting (if required).</p>
<p>Bundle may be registered with <a href="./#bundle-lookup">bundle lookup mechanism</a>. For example:</p>
<div class="highlight"><pre><span></span><code><span class="n">PropertyBundleLookup</span><span class="p">.</span><span class="na">enableBundles</span><span class="p">(</span><span class="n">DiagnosticBundle</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
</code></pre></div>

<p>May be enabled by <code>.printDiagnosticInfo()</code> shortcut method.</p>
<p>Special shortcut <code>.printAvailableInstallers()</code> register diagnostic bundle configured for <a href="../diagnostic/#installers-mode">showing only installers</a>. Useful when you looking for available features.</p>
<div class="admonition attention">
<p>Only one bundle instance accepted, both options can't be enabled at the same time.</p>
</div>
<h2 id="dropwizard-bundles-unification">Dropwizard bundles unification<a class="headerlink" href="#dropwizard-bundles-unification" title="Permanent link">&para;</a></h2>
<p>Guicey bundles and dropwizard bundles may be unified providing single (standard) extension point for both 
dropwizard and guicey features:</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MixedBundle</span> <span class="kd">implements</span> <span class="n">ConfiguredBundle</span><span class="p">,</span> <span class="n">GuiceyBundle</span> <span class="p">{</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">Bootstrap</span><span class="o">&lt;?&gt;</span> <span class="n">bootstrap</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something in init phase</span>
    <span class="p">}</span>   

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">GuiceyBootstrap</span> <span class="n">bootstrap</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// apply guicey configurations</span>
    <span class="p">}</span> 

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="p">(</span><span class="n">T</span> <span class="n">configuration</span><span class="p">,</span> <span class="n">Environment</span> <span class="n">environment</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="p">{</span>
        <span class="c1">// not needed because everything could be done in guicey bundle&#39;s method</span>
    <span class="p">}</span> 
<span class="p">}</span> 
</code></pre></div>

<p>Feature is disabled by default, to enable it use <code>.configureFromDropwizardBundles()</code> method.</p>
<div class="highlight"><pre><span></span><code><span class="n">bootstrap</span><span class="p">.</span><span class="na">addBundle</span><span class="p">(</span><span class="k">new</span> <span class="n">MixedBundle</span><span class="p">());</span>
<span class="n">bootstrap</span><span class="p">.</span><span class="na">addBundle</span><span class="p">(</span><span class="n">GuiceBundle</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
        <span class="p">.</span><span class="na">configureFromDropwizardBundles</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
        <span class="p">.</span><span class="na">build</span><span class="p">()</span>
<span class="p">);</span>
</code></pre></div>

<p>When active, all registered dropwizard bundles are checked if they implement <code>GuiceyBundle</code>.
Works with both <code>Bundle</code> and <code>ConfiguredBundle</code> dropwizard bundle types. </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Don't assume if guicey bundle's <code>initialize</code> method will be called before/after dropwizard bundle's <code>run</code> method. 
Both are possible (it depends if bundle registered before or after GuiceBundle).</p>
</div>
<h2 id="bundle-lookup">Bundle lookup<a class="headerlink" href="#bundle-lookup" title="Permanent link">&para;</a></h2>
<p>Bundle lookup mechanism used to lookup guicey bundles in various sources. It may be used to activate specific bundles
in tests (e.g. HK2DebugBundle) or to install 3<sup>rd</sup> party extensions from classpath.</p>
<p>Bundle lookup is equivalent to registering bundle directly using builder <code>bundles</code> method.</p>
<p>By default, 2 lookup mechanisms active. All found bundles are logged into console.
Duplicate bundles are removed (using bundle class to detect duplicate).</p>
<p>To disable default lookups use <code>disableBundleLookup</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">bootstrap</span><span class="p">.</span><span class="na">addBundle</span><span class="p">(</span><span class="n">GuiceBundle</span><span class="p">.</span><span class="o">&lt;</span><span class="n">TestConfiguration</span><span class="o">&gt;</span><span class="n">builder</span><span class="p">()</span>
        <span class="p">.</span><span class="na">disableBundleLookup</span><span class="p">()</span>
        <span class="p">.</span><span class="na">build</span><span class="p">()</span>
</code></pre></div>

<h3 id="system-property-lookup">System property lookup<a class="headerlink" href="#system-property-lookup" title="Permanent link">&para;</a></h3>
<p>System property <code>guicey.bundles</code> could contain comma separated list of guicey bundle classes. These bundles 
must have no-args constructor.</p>
<p>For example, activate HK2 debug bundle for tests:</p>
<div class="highlight"><pre><span></span><code>java ... -Dguicey.bundles=ru.vyarus.dropwizard.guice.module.jersey.debug.HK2DebugBundle
</code></pre></div>

<p>Alternatively, system property may be set in code:</p>
<div class="highlight"><pre><span></span><code><span class="n">PropertyBundleLookup</span><span class="p">.</span><span class="na">enableBundles</span><span class="p">(</span><span class="n">HK2DebugBundle</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
</code></pre></div>

<h3 id="service-loader-lookup">Service loader lookup<a class="headerlink" href="#service-loader-lookup" title="Permanent link">&para;</a></h3>
<p>Using default java <a href="https://docs.oracle.com/javase/7/docs/api/java/util/ServiceLoader.html">ServiceLoader</a> 
mechanism, loads all GuiceyBundle services.</p>
<p>This is useful for automatically install 3<sup>rd</sup> party extensions (additional installers, extensions, guice modules).</p>
<p>3<sup>rd</sup> party jar must contain services file:</p>
<div class="highlight"><pre><span></span><code>META-INF/services/ru.vyarus.dropwizard.guice.module.installer.bundle.GuiceyBundle
</code></pre></div>

<p>File contain one or more (per line) GuiceyBundle implementations. E.g.</p>
<div class="highlight"><pre><span></span><code>com.foo.Bundle1
com.foo.Bundle2
</code></pre></div>

<p>Then Bundle1, Bundle2 would be loaded automatically on startup.</p>
<h3 id="customizing-lookup-mechanism">Customizing lookup mechanism<a class="headerlink" href="#customizing-lookup-mechanism" title="Permanent link">&para;</a></h3>
<p>Custom bundle lookup must implement <code>GuiceyBundleLookup</code> interface:</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CustomBundleLookup</span> <span class="kd">implements</span> <span class="n">GuiceyBundleLookup</span> <span class="p">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">GuiceyBundle</span><span class="o">&gt;</span> <span class="nf">lookup</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">GuiceyBundle</span><span class="o">&gt;</span> <span class="n">bundles</span> <span class="o">=</span> <span class="n">Lists</span><span class="p">.</span><span class="na">newArrayList</span><span class="p">();</span>
        <span class="p">...</span>
        <span class="k">return</span> <span class="n">bundles</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>Custom lookup implementation may be registered through:</p>
<div class="highlight"><pre><span></span><code><span class="n">bootstrap</span><span class="p">.</span><span class="na">addBundle</span><span class="p">(</span><span class="n">GuiceBundle</span><span class="p">.</span><span class="o">&lt;</span><span class="n">TestConfiguration</span><span class="o">&gt;</span><span class="n">builder</span><span class="p">()</span>
        <span class="p">.</span><span class="na">bundleLookup</span><span class="p">(</span><span class="k">new</span> <span class="n">CustomBundleLookup</span><span class="p">())</span>
        <span class="p">.</span><span class="na">build</span><span class="p">()</span>
</code></pre></div>

<p>But it's better to register it through default implementation <code>DefaultBundleLookup</code>, which performs composition 
of multiple lookup implementations and logs resolved bundles to console.</p>
<div class="highlight"><pre><span></span><code><span class="n">bootstrap</span><span class="p">.</span><span class="na">addBundle</span><span class="p">(</span><span class="n">GuiceBundle</span><span class="p">.</span><span class="o">&lt;</span><span class="n">TestConfiguration</span><span class="o">&gt;</span><span class="n">builder</span><span class="p">()</span>
        <span class="p">.</span><span class="na">bundleLookup</span><span class="p">(</span><span class="k">new</span> <span class="n">DefaultBundleLookup</span><span class="p">().</span><span class="na">addLookup</span><span class="p">(</span><span class="k">new</span> <span class="n">CustomBundleLookup</span><span class="p">()))</span>
        <span class="p">.</span><span class="na">build</span><span class="p">()</span>
</code></pre></div>

<p>To override list of default lookups:</p>
<div class="highlight"><pre><span></span><code><span class="n">bootstrap</span><span class="p">.</span><span class="na">addBundle</span><span class="p">(</span><span class="n">GuiceBundle</span><span class="p">.</span><span class="o">&lt;</span><span class="n">TestConfiguration</span><span class="o">&gt;</span><span class="n">builder</span><span class="p">()</span>
        <span class="p">.</span><span class="na">bundleLookup</span><span class="p">(</span><span class="k">new</span> <span class="n">DefaultBundleLookup</span><span class="p">(</span><span class="k">new</span> <span class="n">ServiceLoaderBundleLookup</span><span class="p">(),</span> <span class="k">new</span> <span class="n">CustomBundleLookup</span><span class="p">()))</span>
        <span class="p">.</span><span class="na">build</span><span class="p">()</span>
</code></pre></div>

<p>Here two lookup mechanisms registered (property lookup is not registered and will not be implicitly added).</p>
<h2 id="options">Options<a class="headerlink" href="#options" title="Permanent link">&para;</a></h2>
<p><a href="../options/">Options</a> could be used in guicey bundes:</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyBundle</span> <span class="kd">implements</span> <span class="n">GuiceyBundle</span> <span class="p">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">GuiceyBootstrap</span> <span class="n">bootstrap</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">bootstrap</span><span class="p">.</span><span class="na">option</span><span class="p">(</span><span class="n">GuiceyOptions</span><span class="p">.</span><span class="na">UseHkBridge</span><span class="p">))</span> <span class="p">{</span>
            <span class="c1">// show warning that bridge required</span>
        <span class="p">}</span> 
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>Or it could be some <a href="../options/#custom-options">custom options</a> usage.</p>
<h2 id="apply-modifications">Apply modifications<a class="headerlink" href="#apply-modifications" title="Permanent link">&para;</a></h2>
<p>Bundles could not only register new items, but also disable other.</p>
<div class="highlight"><pre><span></span><code><span class="n">bootstrap</span>
    <span class="p">.</span><span class="na">disableInstallers</span><span class="p">(..)</span>
    <span class="p">.</span><span class="na">disableExtensions</span><span class="p">(..)</span>
    <span class="p">.</span><span class="na">disableModules</span><span class="p">()</span>
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Bundles can't disable other bundles (because target bundle could be already processed at this point).</p>
</div>
<p>This could be used to register different versions instead of disabled items.</p>
<p>Also, bundle could directly <a href="../configuration/#override-guice-bindings">override guice bindings</a> with:</p>
<div class="highlight"><pre><span></span><code><span class="n">bootstrap</span>
    <span class="p">.</span><span class="na">modulesOverride</span><span class="p">(</span><span class="k">new</span> <span class="n">OverridingModule</span><span class="p">())</span>
</code></pre></div>

<h2 id="configuration-access">Configuration access<a class="headerlink" href="#configuration-access" title="Permanent link">&para;</a></h2>
<h3 id="unique-feature-config">Unique feature config<a class="headerlink" href="#unique-feature-config" title="Permanent link">&para;</a></h3>
<p>When working with re-usable bundles, it could be handy to rely on unique configuration 
object:</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">XFeatureBundle</span> <span class="kd">implements</span> <span class="n">GuiceyBundle</span> <span class="p">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">GuiceyBootstrap</span> <span class="n">bootstrap</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">XFeatureConfig</span> <span class="n">conf</span> <span class="o">=</span> <span class="n">bootstrap</span><span class="p">.</span><span class="na">configuration</span><span class="p">(</span><span class="n">XFeatureConfig</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
        <span class="p">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>Note that this bundle doesn't known exact type of user configuration, it just 
assumes that XFeatureConfig is declared somewhere in configuration (on any level)
just once. For example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyConfig</span> <span class="kd">extends</span> <span class="n">Configuration</span> <span class="p">{</span>

    <span class="nd">@JsonProperty</span>
    <span class="kd">private</span> <span class="n">XFeatureConfig</span> <span class="n">xfeature</span><span class="p">;</span>

    <span class="p">...</span>
<span class="p">}</span>
</code></pre></div>

<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Object uniqueness checked by exact type match, so if configuration also 
contains some extending class (<code>XFeatureConfigExt</code>) it will be different unique config. </p>
</div>
<h3 id="access-by-path">Access by path<a class="headerlink" href="#access-by-path" title="Permanent link">&para;</a></h3>
<p>When you are not sure that configuration is unique, you can rely on exact path definition:</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">XFeatureBundle</span> <span class="kd">implements</span> <span class="n">GuiceyBundle</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">path</span><span class="p">;</span>

    <span class="kd">public</span> <span class="nf">XFeatureBundle</span><span class="p">(</span><span class="n">String</span> <span class="n">path</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">path</span> <span class="o">=</span> <span class="n">path</span><span class="p">;</span>
    <span class="p">}</span> 

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">GuiceyBootstrap</span> <span class="n">bootstrap</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">XFeatureConfig</span> <span class="n">conf</span> <span class="o">=</span> <span class="n">bootstrap</span><span class="p">.</span><span class="na">configuration</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>
        <span class="p">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>Path is declared by bundle user, who knows required configuration location:</p>
<div class="highlight"><pre><span></span><code><span class="n">GuiceBundle</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
    <span class="p">.</span><span class="na">bundles</span><span class="p">(</span><span class="k">new</span> <span class="n">XFeatureBundle</span><span class="p">(</span><span class="s">&quot;sub.feature&quot;</span><span class="p">))</span>
    <span class="p">...</span>
    <span class="p">.</span><span class="na">build</span><span class="p">()</span>
</code></pre></div>

<p>Where </p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyConfig</span> <span class="kd">extends</span> <span class="n">Configuration</span> <span class="p">{</span>

    <span class="nd">@JsonProperty</span>
    <span class="kd">private</span> <span class="n">SubConfig</span> <span class="n">sub</span> <span class="o">=</span> <span class="p">{</span> <span class="c1">// pseudo code to combine class declarations</span>
         <span class="nd">@JsonProperty</span>
         <span class="kd">private</span> <span class="n">XFeatureConfig</span> <span class="n">feature</span><span class="p">;</span>   
    <span class="p">}</span>

    <span class="p">...</span>
<span class="p">}</span>
</code></pre></div>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Remember that you can't register 2 bundles with the same class</p>
</div>
<h3 id="multiple-configs">Multiple configs<a class="headerlink" href="#multiple-configs" title="Permanent link">&para;</a></h3>
<p>In case, when multiple config objects could be declared in user configuration,
you can access all of them: </p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">XFeatureBundle</span> <span class="kd">implements</span> <span class="n">GuiceyBundle</span> <span class="p">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">GuiceyBootstrap</span> <span class="n">bootstrap</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">XFeatureConfig</span><span class="o">&gt;</span> <span class="n">confs</span> <span class="o">=</span> <span class="n">configurations</span><span class="p">(</span><span class="n">XFeatureConfig</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
        <span class="p">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>For configuration</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyConfig</span> <span class="kd">extends</span> <span class="n">Configuration</span> <span class="p">{</span>

    <span class="nd">@JsonProperty</span>
    <span class="kd">private</span> <span class="n">XFeatureConfig</span> <span class="n">xfeature</span><span class="p">;</span>
    <span class="nd">@JsonProperty</span>
    <span class="kd">private</span> <span class="n">XFeatureConfig</span> <span class="n">xfeature2</span><span class="p">;</span>

    <span class="p">...</span>
<span class="p">}</span>
</code></pre></div>

<p>It wil return both objects: <code>[xfeature, xfeature2]</code></p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>In contrast to unique configurations, this method returns all subclasses too.
So if there are <code>XFeatureConfigExt</code> declared somewhere it will also be returned.</p>
</div>
<h3 id="custom-configuration-analysis">Custom configuration analysis<a class="headerlink" href="#custom-configuration-analysis" title="Permanent link">&para;</a></h3>
<p>In all other cases (with more complex requirements) you can use <code>ConfigurationTree</code> object which
represents introspected configuration paths.  </p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">XFeatureBundle</span> <span class="kd">implements</span> <span class="n">GuiceyBundle</span> <span class="p">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">GuiceyBootstrap</span> <span class="n">bootstrap</span><span class="p">)</span> <span class="p">{</span>
         <span class="c1">// get all properties of custom configuration (ignoring properties from base classes)</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">ConfigPath</span><span class="o">&gt;</span> <span class="n">paths</span> <span class="o">=</span> <span class="n">bootstrap</span><span class="p">.</span><span class="na">configurationTree</span><span class="p">()</span>
                <span class="p">.</span><span class="na">findAllRootPathsFrom</span><span class="p">(</span><span class="n">MyConfig</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>

        <span class="c1">// search for not null values of marked (annotated) classes            </span>
        <span class="n">List</span> <span class="n">markedTypes</span> <span class="o">=</span> <span class="n">paths</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
            <span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">it</span> <span class="o">-&gt;</span> <span class="n">it</span><span class="p">.</span><span class="na">getValue</span><span class="p">()</span> <span class="o">!=</span> <span class="kc">null</span> 
                    <span class="o">&amp;&amp;</span> <span class="n">it</span><span class="p">.</span><span class="na">getType</span><span class="p">().</span><span class="na">getValueType</span><span class="p">().</span><span class="na">hasAnnotation</span><span class="p">(</span><span class="n">MyMarker</span><span class="p">.</span><span class="na">class</span><span class="p">))</span>
            <span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">it</span> <span class="o">-&gt;</span> <span class="n">it</span><span class="p">.</span><span class="na">getValue</span><span class="p">())</span>
            <span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span>
        <span class="p">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>In this example, bundle search for properties declared directly in MyConfig configuration
class with not null value and annotated (classes annotated, not properties!) with custom marker (<code>@MyMarker</code>).  </p>
<p>See introspected configuration <a href="../bindings/#introspected-configuration">structure description</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../ordering/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Ordering
            </div>
          </div>
        </a>
      
      
        <a href="../options/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Options
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2014-2021 Vyacheslav Rusakov
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/xvik" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://twitter.com/vyarus" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fb4a9340.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.a1c7c35e.min.js"></script>
      
    
  </body>
</html>